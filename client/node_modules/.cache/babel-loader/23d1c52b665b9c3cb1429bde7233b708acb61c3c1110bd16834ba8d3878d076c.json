{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fabio Silva\\\\Documents\\\\GitHub\\\\footychat\\\\client\\\\src\\\\components\\\\games\\\\GameCard.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { format } from 'date-fns';\nimport { pt } from 'date-fns/locale';\nimport { IoLocationSharp, IoTime, IoPeople } from 'react-icons/io5';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GameCard({\n  game,\n  onUpdate\n}) {\n  _s();\n  var _game$players, _game$players$confirm, _game$players2, _game$players2$confir, _game$players3, _game$field;\n  const {\n    user\n  } = useAuth();\n  const isConfirmed = (_game$players = game.players) === null || _game$players === void 0 ? void 0 : (_game$players$confirm = _game$players.confirmed) === null || _game$players$confirm === void 0 ? void 0 : _game$players$confirm.some(p => p.user._id === (user === null || user === void 0 ? void 0 : user._id) || p.user === (user === null || user === void 0 ? void 0 : user._id));\n  const confirmedCount = ((_game$players2 = game.players) === null || _game$players2 === void 0 ? void 0 : (_game$players2$confir = _game$players2.confirmed) === null || _game$players2$confir === void 0 ? void 0 : _game$players2$confir.length) || 0;\n  const maxPlayers = ((_game$players3 = game.players) === null || _game$players3 === void 0 ? void 0 : _game$players3.max) || 14;\n  const spotsLeft = maxPlayers - confirmedCount;\n  const handleConfirm = async e => {\n    e.stopPropagation();\n    try {\n      if (isConfirmed) {\n        await api.delete(`/games/${game._id}/confirm`);\n      } else {\n        await api.post(`/games/${game._id}/confirm`);\n      }\n      if (onUpdate) onUpdate();\n    } catch (error) {\n      console.error('Erro:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl p-4 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: format(new Date(game.dateTime), 'EEEE, d MMMM', {\n            locale: pt\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-bold text-gray-900\",\n          children: format(new Date(game.dateTime), 'HH:mm')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `px-3 py-1 rounded-full text-xs font-medium ${spotsLeft <= 2 ? 'bg-red-100 text-red-600' : spotsLeft <= 4 ? 'bg-yellow-100 text-yellow-600' : 'bg-green-100 text-green-600'}`,\n        children: spotsLeft > 0 ? `${spotsLeft} vagas` : 'Lotado'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(IoLocationSharp, {\n          className: \"w-4 h-4 mr-2 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: (_game$field = game.field) === null || _game$field === void 0 ? void 0 : _game$field.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(IoPeople, {\n          className: \"w-4 h-4 mr-2 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: [confirmedCount, \" / \", maxPlayers, \" confirmados\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(IoTime, {\n          className: \"w-4 h-4 mr-2 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: [game.duration || 90, \" minutos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleConfirm,\n      className: `w-full py-2.5 px-4 rounded-xl font-medium transition-colors ${isConfirmed ? 'bg-gray-100 text-gray-700 hover:bg-gray-200' : 'bg-primary text-white hover:bg-green-600'}`,\n      children: isConfirmed ? 'Cancelar Presença' : 'Confirmar Presença'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(GameCard, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\n_c = GameCard;\nexport default GameCard;\nvar _c;\n$RefreshReg$(_c, \"GameCard\");","map":{"version":3,"names":["React","format","pt","IoLocationSharp","IoTime","IoPeople","useAuth","api","jsxDEV","_jsxDEV","GameCard","game","onUpdate","_s","_game$players","_game$players$confirm","_game$players2","_game$players2$confir","_game$players3","_game$field","user","isConfirmed","players","confirmed","some","p","_id","confirmedCount","length","maxPlayers","max","spotsLeft","handleConfirm","e","stopPropagation","delete","post","error","console","className","children","Date","dateTime","locale","fileName","_jsxFileName","lineNumber","columnNumber","field","name","duration","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Fabio Silva/Documents/GitHub/footychat/client/src/components/games/GameCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { format } from 'date-fns';\r\nimport { pt } from 'date-fns/locale';\r\nimport { IoLocationSharp, IoTime, IoPeople } from 'react-icons/io5';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport api from '../../services/api';\r\n\r\nfunction GameCard({ game, onUpdate }) {\r\n  const { user } = useAuth();\r\n  const isConfirmed = game.players?.confirmed?.some(p => p.user._id === user?._id || p.user === user?._id);\r\n  const confirmedCount = game.players?.confirmed?.length || 0;\r\n  const maxPlayers = game.players?.max || 14;\r\n  const spotsLeft = maxPlayers - confirmedCount;\r\n\r\n  const handleConfirm = async (e) => {\r\n    e.stopPropagation();\r\n    try {\r\n      if (isConfirmed) {\r\n        await api.delete(`/games/${game._id}/confirm`);\r\n      } else {\r\n        await api.post(`/games/${game._id}/confirm`);\r\n      }\r\n      if (onUpdate) onUpdate();\r\n    } catch (error) {\r\n      console.error('Erro:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl p-4 shadow-sm\">\r\n      <div className=\"flex justify-between items-start mb-3\">\r\n        <div>\r\n          <p className=\"text-sm text-gray-500\">\r\n            {format(new Date(game.dateTime), 'EEEE, d MMMM', { locale: pt })}\r\n          </p>\r\n          <p className=\"text-xl font-bold text-gray-900\">\r\n            {format(new Date(game.dateTime), 'HH:mm')}\r\n          </p>\r\n        </div>\r\n        <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n          spotsLeft <= 2 \r\n            ? 'bg-red-100 text-red-600' \r\n            : spotsLeft <= 4 \r\n            ? 'bg-yellow-100 text-yellow-600'\r\n            : 'bg-green-100 text-green-600'\r\n        }`}>\r\n          {spotsLeft > 0 ? `${spotsLeft} vagas` : 'Lotado'}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"space-y-2 mb-4\">\r\n        <div className=\"flex items-center text-gray-600\">\r\n          <IoLocationSharp className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n          <span className=\"text-sm\">{game.field?.name}</span>\r\n        </div>\r\n        <div className=\"flex items-center text-gray-600\">\r\n          <IoPeople className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n          <span className=\"text-sm\">{confirmedCount} / {maxPlayers} confirmados</span>\r\n        </div>\r\n        <div className=\"flex items-center text-gray-600\">\r\n          <IoTime className=\"w-4 h-4 mr-2 text-gray-400\" />\r\n          <span className=\"text-sm\">{game.duration || 90} minutos</span>\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleConfirm}\r\n        className={`w-full py-2.5 px-4 rounded-xl font-medium transition-colors ${\r\n          isConfirmed\r\n            ? 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n            : 'bg-primary text-white hover:bg-green-600'\r\n        }`}\r\n      >\r\n        {isConfirmed ? 'Cancelar Presença' : 'Confirmar Presença'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}