{"ast":null,"code":"import { io } from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nlet socket = null;\nexport const initSocket = token => {\n  if (socket) return socket;\n  socket = io(SOCKET_URL, {\n    auth: {\n      token\n    },\n    transports: ['websocket', 'polling']\n  });\n  socket.on('connect', () => {\n    console.log('✅ Socket connected');\n    socket.emit('join_groups');\n  });\n  socket.on('disconnect', () => {\n    console.log('❌ Socket disconnected');\n  });\n  socket.on('error', error => {\n    console.error('Socket error:', error);\n  });\n  return socket;\n};\nexport const getSocket = () => socket;\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","socket","initSocket","token","auth","transports","on","console","log","emit","error","getSocket","disconnectSocket","disconnect"],"sources":["C:/Users/Fabio Silva/Documents/GitHub/footychat/client/src/services/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\r\n\r\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\r\n\r\nlet socket = null;\r\n\r\nexport const initSocket = (token) => {\r\n  if (socket) return socket;\r\n\r\n  socket = io(SOCKET_URL, {\r\n    auth: { token },\r\n    transports: ['websocket', 'polling']\r\n  });\r\n\r\n  socket.on('connect', () => {\r\n    console.log('✅ Socket connected');\r\n    socket.emit('join_groups');\r\n  });\r\n\r\n  socket.on('disconnect', () => {\r\n    console.log('❌ Socket disconnected');\r\n  });\r\n\r\n  socket.on('error', (error) => {\r\n    console.error('Socket error:', error);\r\n  });\r\n\r\n  return socket;\r\n};\r\n\r\nexport const getSocket = () => socket;\r\n\r\nexport const disconnectSocket = () => {\r\n  if (socket) {\r\n    socket.disconnect();\r\n    socket = null;\r\n  }\r\n};"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE9E,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,UAAU,GAAIC,KAAK,IAAK;EACnC,IAAIF,MAAM,EAAE,OAAOA,MAAM;EAEzBA,MAAM,GAAGL,EAAE,CAACC,UAAU,EAAE;IACtBO,IAAI,EAAE;MAAED;IAAM,CAAC;IACfE,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS;EACrC,CAAC,CAAC;EAEFJ,MAAM,CAACK,EAAE,CAAC,SAAS,EAAE,MAAM;IACzBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACjCP,MAAM,CAACQ,IAAI,CAAC,aAAa,CAAC;EAC5B,CAAC,CAAC;EAEFR,MAAM,CAACK,EAAE,CAAC,YAAY,EAAE,MAAM;IAC5BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACtC,CAAC,CAAC;EAEFP,MAAM,CAACK,EAAE,CAAC,OAAO,EAAGI,KAAK,IAAK;IAC5BH,OAAO,CAACG,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;EACvC,CAAC,CAAC;EAEF,OAAOT,MAAM;AACf,CAAC;AAED,OAAO,MAAMU,SAAS,GAAGA,CAAA,KAAMV,MAAM;AAErC,OAAO,MAAMW,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIX,MAAM,EAAE;IACVA,MAAM,CAACY,UAAU,CAAC,CAAC;IACnBZ,MAAM,GAAG,IAAI;EACf;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}